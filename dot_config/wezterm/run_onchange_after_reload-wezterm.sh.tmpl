#!/usr/bin/env bash
# {{ include (joinPath (.chezmoi.sourceFile | dir) "wezterm.lua") | sha256sum }}
set -Eeuo pipefail
trap 'echo "Error on line $LINENO: $BASH_COMMAND" >&2' ERR

# Chezmoi uses atomic writes (temp + rename) which may not trigger
# wezterm's file watcher. Touch the config to generate an inotify
# modify event that wezterm picks up.
config="{{ joinPath (.chezmoi.targetFile | dir) "wezterm.lua" }}"
if [ -f "$config" ]; then
	touch "$config"
fi
