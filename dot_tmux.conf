# --- Minimal, invisible tmux config for tms ---

# True color support
set -g default-terminal "tmux-256color"
set -ag terminal-overrides ",xterm-256color:RGB,wezterm:RGB"

# Large scrollback
set -g history-limit 50000

# Mouse support
set -g mouse on

# No status bar — let the terminal handle tabs
set -g status off

# Don't auto-rename windows
set -g allow-rename off

# Vi mode for copy
setw -g mode-keys vi

# Fast escape (don't wait for escape sequences)
set -sg escape-time 10

# Focus events (needed for some editors)
set -g focus-events on

# Clipboard: passthrough OSC 52 so copy works through to terminal
set -g set-clipboard on
set -g allow-passthrough on

# Update environment on reattach (SSH agent, display, etc.)
set -g update-environment "SSH_AUTH_SOCK SSH_CONNECTION DISPLAY WAYLAND_DISPLAY"

# Session picker override — use tms
bind s run-shell -b "tmux display-popup -E -w 80% -h 60% 'tms --all'"
bind S run-shell -b "tmux display-popup -E -w 80% -h 60% 'tms'"

# Don't destroy session when last client detaches
set -g destroy-unattached off

# Renumber windows when one is closed
set -g renumber-windows on

# Start window/pane numbering at 1
set -g base-index 1
setw -g pane-base-index 1
